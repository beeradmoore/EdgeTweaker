<h3>WebAppSettings</h3>

<h4>Web App management settings</h4>

<h4>Supported versions:</h4>

<ul>
<li>On Windows and macOS since 120 or later</li>
</ul>

<h4>Description</h4>

<p>This policy allows an admin to specify settings for installed web apps. This policy maps a Web App ID to its specific setting. A default configuration can be set using the special ID *, which applies to all web apps without a custom configuration in this policy.</p>

<ul>
<li>The manifest_id field is the Manifest ID for the Web App.
See https://developer.chrome.com/blog/pwa-manifest-id/
for instructions on how to determine the Manifest ID for an installed web app.</li>
<li>The run<em>on</em>os<em>login field specifies if a web app can be run during OS login.
If this field is set to blocked, the web app will not run during OS login and the user will not be able to enable this later.
If this field is set to run</em>windowed, the web app will run during OS login and the user won't be able to disable this later.
If this field is set to allowed, the user will be able to configure the web app to run at OS login.
The default policy configuration only allows the allowed and blocked values.</li>
<li>(Starting with Microsoft Edge version 120) The prevent<em>close</em>after<em>run</em>on<em>os</em>login field specifies if a web app can be prevented from closing in any way.
For example, by the user, by task manager, or by web APIs. This behavior can only be enabled if run<em>on</em>os<em>login is set to run</em>windowed.
If the app is already running, this setting will only take effect after the app is restarted.
If this field isn't defined, users can close the app.
(This is currently not supported in Microsoft Edge.)</li>
<li>(Since version 118) The force<em>unregister</em>os_integration field specifies if all OS integration for a web app, that is, shortcuts, file handlers, protocol handlers and so on will be removed or not.
If an app is already running, this property will come into effect after the app restarts.
This should be used with caution, since it can override any OS integration that is set automatically during the startup of the web applications system. This currently only works on Windows, Mac and Linux platforms.</li>
</ul>

<h4>Supported features:</h4>

<ul>
<li>Can be mandatory: Yes</li>
<li>Can be recommended: No</li>
<li>Dynamic Policy Refresh: Yes</li>
<li>Per Profile: Yes</li>
<li>Applies to a profile that is signed in with a Microsoft account: No</li>
</ul>

<h4>Data Type:</h4>

<ul>
<li>Dictionary</li>
</ul>

<h4>Windows information and settings</h4>

<h5>Group Policy (ADMX) info</h5>

<ul>
<li>GP unique name: WebAppSettings</li>
<li>GP name: Web App management settings</li>
<li>GP path (Mandatory): Administrative Templates/Microsoft Edge/</li>
<li>GP path (Recommended): N/A</li>
<li>GP ADMX file name: MSEdge.admx</li>
</ul>

<h5>Windows Registry Settings</h5>

<ul>
<li>Path (Mandatory): SOFTWARE\Policies\Microsoft\Edge</li>
<li>Path (Recommended): N/A</li>
<li>Value Name: WebAppSettings</li>
<li>Value Type: REG_SZ</li>
</ul>

<h5>Example value:</h5>

<p><code>
SOFTWARE\Policies\Microsoft\Edge\WebAppSettings = [
  {
    "manifest_id": "https://foo.example/index.html",
    "run_on_os_login": "allowed"
  },
  {
    "manifest_id": "https://bar.example/index.html",
    "run_on_os_login": "allowed"
  },
  {
    "manifest_id": "https://foobar.example/index.html",
    "prevent_close_after_run_on_os_login": true,
    "run_on_os_login": "run_windowed"
  },
  {
    "manifest_id": "*",
    "run_on_os_login": "blocked"
  },
  {
    "force_unregister_os_integration": true,
    "manifest_id": "https://foo.example/index.html"
  }
]
</code></p>

<h5>Compact example value:</h5>

<p><code>
  SOFTWARE\Policies\Microsoft\Edge\WebAppSettings = [{"manifest_id": "https://foo.example/index.html", "run_on_os_login": "allowed"}, {"manifest_id": "https://bar.example/index.html", "run_on_os_login": "allowed"}, {"manifest_id": "https://foobar.example/index.html", "prevent_close_after_run_on_os_login": true, "run_on_os_login": "run_windowed"}, {"manifest_id": "*", "run_on_os_login": "blocked"}, {"force_unregister_os_integration": true, "manifest_id": "https://foo.example/index.html"}]
</code></p>

<h4>Mac information and settings</h4>

<ul>
<li>Preference Key Name: WebAppSettings</li>
<li><p>Example value:
<code>xml
&lt;key&gt;WebAppSettings&lt;/key&gt;
&lt;array&gt;
&lt;dict&gt;
&lt;key&gt;manifest_id&lt;/key&gt;
&lt;string&gt;https://foo.example/index.html&lt;/string&gt;
&lt;key&gt;run_on_os_login&lt;/key&gt;
&lt;string&gt;allowed&lt;/string&gt;
&lt;/dict&gt;
&lt;dict&gt;
&lt;key&gt;manifest_id&lt;/key&gt;
&lt;string&gt;https://bar.example/index.html&lt;/string&gt;
&lt;key&gt;run_on_os_login&lt;/key&gt;
&lt;string&gt;allowed&lt;/string&gt;
&lt;/dict&gt;
&lt;dict&gt;
&lt;key&gt;manifest_id&lt;/key&gt;
&lt;string&gt;https://foobar.example/index.html&lt;/string&gt;
&lt;key&gt;prevent_close_after_run_on_os_login&lt;/key&gt;
&lt;true/&gt;
&lt;key&gt;run_on_os_login&lt;/key&gt;
&lt;string&gt;run_windowed&lt;/string&gt;
&lt;/dict&gt;
&lt;dict&gt;
&lt;key&gt;manifest_id&lt;/key&gt;
&lt;string&gt;*&lt;/string&gt;
&lt;key&gt;run_on_os_login&lt;/key&gt;
&lt;string&gt;blocked&lt;/string&gt;
&lt;/dict&gt;
&lt;dict&gt;
&lt;key&gt;force_unregister_os_integration&lt;/key&gt;
&lt;true/&gt;
&lt;key&gt;manifest_id&lt;/key&gt;
&lt;string&gt;https://foo.example/index.html&lt;/string&gt;
&lt;/dict&gt;
&lt;/array&gt;
</code></p>

</li>
</ul>
