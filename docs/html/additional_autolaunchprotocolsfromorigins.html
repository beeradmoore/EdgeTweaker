<h3>AutoLaunchProtocolsFromOrigins</h3>

<h4>Define a list of protocols that can launch an external application from listed origins without prompting the user</h4>

<h4>Supported versions:</h4>

<ul>
<li>On Windows and macOS since 85 or later</li>
</ul>

<h4>Description</h4>

<p>Allows you to set a list of protocols, and for each protocol an associated list of allowed origin patterns, that can launch an external application without prompting the user. The trailing separator should not be included when listing the protocol and the protocol should be all lower case. For example, list "skype" instead of "skype:", "skype://" or "Skype".</p>

<p>If you configure this policy, a protocol will only be permitted to launch an external application without prompting by policy if:</p>

<ul>
<li><p>the protocol is listed</p></li>
<li><p>the origin of the site trying to launch the protocol matches one of the origin patterns in that protocol's allowed_origins list.</p></li>
</ul>

<p>If either condition is false, the external protocol launch prompt will not be omitted by policy.</p>

<p>If you don't configure this policy, no protocols can launch without a prompt. Users can opt out of prompts on a per-protocol/per-site basis unless the <a href="#externalprotocoldialogshowalwaysopencheckbox">ExternalProtocolDialogShowAlwaysOpenCheckbox</a> policy is set to Disabled. This policy has no impact on per-protocol/per-site prompt exemptions set by users.</p>

<p>The origin matching patterns use a similar format to those for the <a href="#urlblocklist">URLBlocklist</a> policy, which are documented at <a href="https://go.microsoft.com/fwlink/?linkid=2095322">https://go.microsoft.com/fwlink/?linkid=2095322</a>.</p>

<p>However, origin matching patterns for this policy cannot contain "/path" or "@query" elements. Any pattern that does contain a "/path" or "@query" element will be ignored.</p>

<p>This policy does not work as expected with file://* wildcards.</p>

<h4>Supported features:</h4>

<ul>
<li>Can be mandatory: Yes</li>
<li>Can be recommended: No</li>
<li>Dynamic Policy Refresh: Yes</li>
<li>Per Profile: Yes</li>
<li>Applies to a profile that is signed in with a Microsoft account: Yes</li>
</ul>

<h4>Data Type:</h4>

<ul>
<li>Dictionary</li>
</ul>

<h4>Windows information and settings</h4>

<h5>Group Policy (ADMX) info</h5>

<ul>
<li>GP unique name: AutoLaunchProtocolsFromOrigins</li>
<li>GP name: Define a list of protocols that can launch an external application from listed origins without prompting the user</li>
<li>GP path (Mandatory): Administrative Templates/Microsoft Edge/</li>
<li>GP path (Recommended): N/A</li>
<li>GP ADMX file name: MSEdge.admx</li>
</ul>

<h5>Windows Registry Settings</h5>

<ul>
<li>Path (Mandatory): SOFTWARE\Policies\Microsoft\Edge</li>
<li>Path (Recommended): N/A</li>
<li>Value Name: AutoLaunchProtocolsFromOrigins</li>
<li>Value Type: REG_SZ</li>
</ul>

<h5>Example value:</h5>

<p><code>
SOFTWARE\Policies\Microsoft\Edge\AutoLaunchProtocolsFromOrigins = [
  {
    "allowed_origins": [
      "example.com",
      "http://www.example.com:8080"
    ],
    "protocol": "spotify"
  },
  {
    "allowed_origins": [
      "https://example.com",
      "https://.mail.example.com"
    ],
    "protocol": "msteams"
  },
  {
    "allowed_origins": [
      "*"
    ],
    "protocol": "msoutlook"
  }
]
</code></p>

<h5>Compact example value:</h5>

<p><code>
  SOFTWARE\Policies\Microsoft\Edge\AutoLaunchProtocolsFromOrigins = [{"allowed_origins": ["example.com", "http://www.example.com:8080"], "protocol": "spotify"}, {"allowed_origins": ["https://example.com", "https://.mail.example.com"], "protocol": "msteams"}, {"allowed_origins": ["*"], "protocol": "msoutlook"}]
</code></p>

<h4>Mac information and settings</h4>

<ul>
<li>Preference Key Name: AutoLaunchProtocolsFromOrigins</li>
<li><p>Example value:
<code>xml
&lt;key&gt;AutoLaunchProtocolsFromOrigins&lt;/key&gt;
&lt;array&gt;
&lt;dict&gt;
&lt;key&gt;allowed_origins&lt;/key&gt;
&lt;array&gt;
  &lt;string&gt;example.com&lt;/string&gt;
  &lt;string&gt;http://www.example.com:8080&lt;/string&gt;
&lt;/array&gt;
&lt;key&gt;protocol&lt;/key&gt;
&lt;string&gt;spotify&lt;/string&gt;
&lt;/dict&gt;
&lt;dict&gt;
&lt;key&gt;allowed_origins&lt;/key&gt;
&lt;array&gt;
  &lt;string&gt;https://example.com&lt;/string&gt;
  &lt;string&gt;https://.mail.example.com&lt;/string&gt;
&lt;/array&gt;
&lt;key&gt;protocol&lt;/key&gt;
&lt;string&gt;msteams&lt;/string&gt;
&lt;/dict&gt;
&lt;dict&gt;
&lt;key&gt;allowed_origins&lt;/key&gt;
&lt;array&gt;
  &lt;string&gt;*&lt;/string&gt;
&lt;/array&gt;
&lt;key&gt;protocol&lt;/key&gt;
&lt;string&gt;msoutlook&lt;/string&gt;
&lt;/dict&gt;
&lt;/array&gt;
</code></p>

</li>
</ul>
